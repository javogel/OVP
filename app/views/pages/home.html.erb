<h1>Hi, there <%= current_user.first_name %></h1>
<p>Welcome to a new video viewing experience.
This is the dashboard, which will shortly be displaying amazing videos.</p>

<div class="video-container">
  <div class="video-main">
    <!-- <%= @video.video_embed.html_safe %> -->

     <div id="player"></div>

  </div>
</div>

   <script>
     // 2. This code loads the IFrame Player API code asynchronously.
     var tag = document.createElement('script');

     tag.src = "https://www.youtube.com/iframe_api";
     var firstScriptTag = document.getElementsByTagName('script')[0];
     firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

     // 3. This function creates an <iframe> (and YouTube player)
     //    after the API code downloads.
     var player;
     function onYouTubeIframeAPIReady() {
       player = new YT.Player('player', {
         height: '100%',
         width: '100%',
         videoId: 'OWzk58b93w8',
         playerVars: {'controls': 0, 'iv_load_policy':3, 'color': 'white', 'showinfo':0, 'modestbranding':1},
         events: {
           'onReady': onPlayerReady,
           'onStateChange': onPlayerStateChange
         }
       });
     }

     // 4. The API will call this function when the video player is ready.
     function onPlayerReady(event) {
    //    event.target.playVideo();
        // $(".video-main").fitVids();
     }

     // 5. The API calls this function when the player's state changes.
     //    The function indicates that when playing a video (state=1),
     //    the player should play for six seconds and then stop.
     var done = false;
     function onPlayerStateChange(event) {
       if (event.data == YT.PlayerState.PLAYING && !done) {
         setTimeout(stopVideo, 6000);
         done = true;
       }
     }
     function stopVideo() {
       player.stopVideo();
     }
   </script>
